<div class="row" id="scroll-to-onload">
    <!-- No selected step alert -->
    <div data-ng-if="null == stepShowCtrl.step" class="col-md-12">
        <div class="alert alert-info text-center">
            {{ 'no_step_selected'|trans:{}:'path_wizards' }}
        </div>
    </div>

    <!-- User is not authorized to access this step -->
    <div data-ng-if="!stepShowCtrl.authorization.granted" class="col-md-12">
        <div class="alert alert-info text-center" data-ng-bind-html="stepShowCtrl.authorization.message"></div>
    </div>

    <!-- Current step is not accessible for now -->
    <div data-ng-if="stepShowCtrl.authorization.granted && null != stepShowCtrl.step && !stepShowCtrl.isAccessible()" class="col-md-12">
        <div class="alert alert-info text-center">
            {{ 'step_not_accessible'|trans:{}:'path_wizards' }}
        </div>
    </div>

    <!-- Current step -->
    <div data-ng-if="stepShowCtrl.authorization.granted && null != stepShowCtrl.step && stepShowCtrl.isAccessible()" class="panel-step col-md-12">
        <resources-secondary-show data-resources="stepShowCtrl.step.resources" data-inherited="stepShowCtrl.inheritedResources" data-excluded="stepShowCtrl.step.excludedResources"></resources-secondary-show>

        <div class="panel panel-default">
            <div class="lvl-indicator lvl lvl-{{ stepShowCtrl.step.lvl }} lvl-bg">&nbsp;</div>

            <div class="panel-heading clearfix">
                <!-- Previous step button -->
                <button type="button" data-ng-click="stepShowCtrl.goTo(stepShowCtrl.previous)" class="pull-left btn btn-sm btn-default" data-ng-disabled="null == stepShowCtrl.previous" data-placement="bottom" data-toggle="tooltip" data-original-title="{{ stepShowCtrl.previous.name }}">
                    <span class="fa fa-arrow-left"></span>
                    <span class="sr-only">{{ 'previous_step'|trans:{}:'path_wizards' }}</span>
                </button>

                <!-- Next step button -->
                <button type="button" data-ng-click="stepShowCtrl.goTo(stepShowCtrl.next)" class="pull-right btn btn-sm btn-default" data-ng-disabled="null == stepShowCtrl.next" data-placement="bottom" data-toggle="tooltip" data-original-title="{{ stepShowCtrl.next.name }}">
                    <span class="sr-only">{{ 'next_step'|trans:{}:'path_wizards' }}</span>
                    <span class="fa fa-arrow-right"></span>
                </button>

                <!-- Step title -->
                <h4 class="panel-title text-center">{{ stepShowCtrl.step.name }}</h4>
            </div>

            <div class="panel-body">
                <!-- Description of the Step -->
                <div class="step-description" data-ng-if="stepShowCtrl.step.description" data-ng-bind-html="stepShowCtrl.step.description"></div>
            </div>

            <!-- Primary resource of the Step -->
            <resources-primary-show data-resources="stepShowCtrl.step.primaryResource" data-height="stepShowCtrl.step.activityHeight"></resources-primary-show>

            <div class="panel-footer clearfix text-center">
                <!-- Previous step button -->
                <button type="button" data-ng-click="stepShowCtrl.goTo(stepShowCtrl.previous)" class="pull-left btn btn-sm btn-default" data-ng-disabled="null == stepShowCtrl.previous" data-placement="top" data-toggle="tooltip" data-original-title="{{ stepShowCtrl.previous.name }}">
                    <span class="fa fa-arrow-left"></span>
                    <span class="sr-only">{{ 'previous_step'|trans:{}:'path_wizards' }}</span>
                </button>

                <!-- Next step button -->
                <button type="button" data-ng-click="stepShowCtrl.goTo(stepShowCtrl.next)" class="pull-right btn btn-sm btn-default" data-ng-disabled="null == stepShowCtrl.next" data-placement="top" data-toggle="tooltip" data-original-title="{{ stepShowCtrl.next.name }}">
                    <span class="sr-only">{{ 'next_step'|trans:{}:'path_wizards' }}</span>
                    <span class="fa fa-arrow-right"></span>
                </button>

                <!-- To do -->
                <button type="button" class="btn btn-sm btn-default" data-ng-click="stepShowCtrl.updateProgression('to_do')" data-ng-class="{'active btn-warning': 'to_do' == stepShowCtrl.progression.status}">
                    <span class="fa fa-fw fa-square-o"></span>
                    {{ 'user_progression_step_to_do_label'|trans:{}:'path_wizards' }}
                </button>

                <!-- Done -->
                <button type="button" class="btn btn-sm btn-default" data-ng-click="stepShowCtrl.updateProgression('done')" data-ng-class="{'active btn-success': 'done' == stepShowCtrl.progression.status}">
                    <span class="fa fa-fw fa-check-square-o"></span>
                    {{ 'user_progression_step_done_label'|trans:{}:'path_wizards' }}
                </button>

                <!-- Redo -->
                <button type="button" class="btn btn-sm btn-default" data-ng-click="stepShowCtrl.updateProgression('to_review')" data-ng-class="{'active btn-info': 'to_review' == stepShowCtrl.progression.status}">
                    <span class="fa fa-fw fa-retweet"></span>
                    {{ 'user_progression_step_to_review_label'|trans:{}:'path_wizards' }}
                </button>
            </div>
        </div>
    </div>
</div>